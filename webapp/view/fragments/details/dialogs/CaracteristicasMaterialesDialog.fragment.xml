<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
>
    <Dialog
        title="{i18n>characteristicsDialogTitle} {detalleReserva>Material}"
        resizable="true"
    >
        <content>
            <HBox class="sapUiTinyMarginBeginEnd">
                <SegmentedButton
                    id="select-class-mat"
                    selectedKey="Tecnica"
                    selectionChange="onClassTypeSelect"
                >
                    <items>
                        <SegmentedButtonItem
                            key="General"
                            text="{i18n>general}"
                        />
                        <SegmentedButtonItem
                            key="Tecnica"
                            text="{i18n>technical}"
                        />
                    </items>
                </SegmentedButton>
            </HBox>
            <VBox
                id="charContentVBox"
                alignItems="Center"
                width="90%"
                class="smallUiSmallMargin"
            >
                <Table
                    headerText="Clase {detalleReserva>Denominacion}"
                    id="caracteristicasTable"
                    items="{
                        path: 'detalleReserva>ToCaracteristicas/results'
                    }"
                    mode="MultiSelect"
                >
                    <columns>
                        <Column>
                            <Text text="{i18n>characteristic}" />
                        </Column>
                        <Column>
                            <Text text="{i18n>description}" />
                        </Column>
                        <Column>
                            <Text text="{i18n>value}" />
                        </Column>
                    </columns>
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text text="{detalleReserva>Caracteristica}" />
                                <Text text="{detalleReserva>Descripcion}" />
                                <VBox>
                                    <Text
                                        text="{detalleReserva>Valor}"
                                        visible="{= !(!${detalleReserva>Valor} || ${detalleReserva>Valor}==='') }"
                                    />
                                    <Input
                                        value="{detalleReserva>NuevoValor}"
                                        editable="{= !${detalleReserva>Valor} || ${detalleReserva>Valor}==='' }"
                                        visible="{= !${detalleReserva>Valor} || ${detalleReserva>Valor}==='' }"
                                    />
                                </VBox>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </VBox>
        </content>
        <beginButton>
            <Button
                text="{i18n>save}"
                type="Emphasized"
                press=".onAceptarCaracteristicas"
            />
        </beginButton>
        <endButton>
            <Button
                text="{i18n>cancel}"
                press=".onCancelarCaracteristicas"
            />
        </endButton>
    </Dialog>
</core:FragmentDefinition>
