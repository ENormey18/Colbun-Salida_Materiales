<core:FragmentDefinition
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:uxap="sap.uxap"
    xmlns:unified="sap.ui.unified"
>
    <uxap:ObjectPageSubSection
        title="Firmas"
        showTitle="false"
    >
        <uxap:blocks>
            <VBox>
                <Title text="Firmas" />
                <HBox
                    justifyContent="SpaceBetween"
                    wrap="Wrap"
                >
                    <VBox>
                        <layoutData>
                            <FlexItemData maxWidth="300px" />
                        </layoutData>
                        <Label
                            text="Autorizador"
                            showColon="true"
                        />
                        <Text text="{detalleReserva>/Reserva/Usuario}" />
                    </VBox>
                    <VBox>
                        <layoutData>
                            <FlexItemData maxWidth="300px" />
                        </layoutData>
                        <Label
                            text="Recibi Conforme"
                            showColon="true"
                        />
                        <Input
                            id="input-nombreReceptor"
                            value="{detalleReserva>/Receptor}"
                            showSuggestion="true"
                            suggestionItems="{
                                path: 'detalleReserva>/Receptores'
                            }"
                            showValueHelp="true"
                            valueHelpRequest="onReceptoresValueHelp" 
                        >
                            <suggestionItems>
                                <core:ListItem
                                    key="{detalleReserva>Usnam}"
                                    text="{detalleReserva>Nombre}"
                                />
                            </suggestionItems>
                        </Input>
                        <Image
                            width="100%"
                            src="{detalleReserva>/FirmaReceptor}"
                            visible="{= !!${detalleReserva>/FirmaReceptor} }"
                        />
                        <HBox visible="false">   <!--{= !${detalleReserva>/FirmaReceptor} }-->
                            <unified:FileUploader
                                buttonText="Subir firma"
                                change=".onChangeFile()"
                                buttonOnly="true"
                                fileType="jpg,jpeg,png,gif,bmp,webp"
                            />
                            <Button
                                text="Dibujar firma"
                                press=".onOpenSignatureCanvas()"
                            />
                        </HBox>
                    </VBox>
                    <VBox>
                        <layoutData>
                            <FlexItemData maxWidth="300px" />
                        </layoutData>
                        <Label
                            text="Entregado por"
                            showColon="true"
                        />
                        <Text text="Usuario Logueado" />
                    </VBox>
                </HBox>
            </VBox>
        </uxap:blocks>
    </uxap:ObjectPageSubSection>
</core:FragmentDefinition>
