<core:FragmentDefinition
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:uxap="sap.uxap"
    xmlns:unified="sap.ui.unified"
>
    <uxap:ObjectPageSubSection
        title="Firmas"
        showTitle="false"
    >
        <uxap:blocks>
            <VBox>
                <Title text="Firmas" />
                <HBox justifyContent="SpaceBetween" wrap="Wrap">
                    <VBox>
                        <layoutData>
                            <FlexItemData maxWidth="300px"/>
                        </layoutData>
                        <Label
                            text="Autorizador"
                            showColon="true"
                        />
                        <Text text="{detalleReserva>/firmas/autorizador/nombre}" />
                        <Image
                            width="100%"
                            src="{detalleReserva>/firmas/autorizador/firma}"
                            visible="{= !!${detalleReserva>/firmas/autorizador} }"
                        />
                        <HBox visible="{= !${detalleReserva>/firmas/autorizador} }">
                            <unified:FileUploader
                                buttonText="Subir firma"
                                change=".onChangeFile($event, 'autorizador')"
                                buttonOnly="true"
                                fileType="jpg,jpeg,png,gif,bmp,webp"
                            />
                            <Button
                                text="Dibujar firma"
                                press=".onOpenSignatureCanvas($event, 'autorizador')"
                            />
                        </HBox> 
                    </VBox>
                    <VBox >
                        <layoutData>
                            <FlexItemData maxWidth="300px"/>
                        </layoutData>
                        <Label
                            text="Recibi Conforme"
                            showColon="true"
                        />
                        <Text text="{detalleReserva/firmas/conforme/nombre}"/>
                        <Image
                            width="100%"
                            src="{detalleReserva>/firmas/conforme/firma}"
                            visible="{= !!${detalleReserva>/firmas/conforme} }"
                        />
                        <HBox visible="{= !${detalleReserva>/firmas/conforme} }">
                            <unified:FileUploader
                                buttonText="Subir firma"
                                change=".onChangeFile($event, 'conforme')"
                                buttonOnly="true"
                                fileType="jpg,jpeg,png,gif,bmp,webp"
                            />
                            <Button
                                text="Dibujar firma"
                                press=".onOpenSignatureCanvas($event, 'conforme')"
                            />
                        </HBox>
                    </VBox>
                    <VBox >
                        <layoutData>
                            <FlexItemData maxWidth="300px"/>
                        </layoutData>
                        <Label
                            text="Entregado por"
                            showColon="true"
                        />
                        <Text text="{detalleReserva>firmas/entregador/nombre}" />
                        <Image
                            width="100%"
                            src="{detalleReserva>/firmas/entregador/firma}"
                            visible="{= !!${detalleReserva>/firmas/entregador} }"
                        />
                        <HBox
                            visible="{= !${detalleReserva>/firmas/entregador} }"
                        >
                            <unified:FileUploader
                                buttonText="Subir firma"
                                change=".onChangeFile($event, 'entregador')"
                                buttonOnly="true"
                                fileType="jpg,jpeg,png,gif,bmp,webp"
                            />
                            <Button
                                text="Dibujar firma"
                                press=".onOpenSignatureCanvas($event, 'entregador')"
                            />
                        </HBox>
                    </VBox>
                </HBox>
            </VBox>
        </uxap:blocks>
    </uxap:ObjectPageSubSection>
</core:FragmentDefinition>
