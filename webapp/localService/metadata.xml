
<edmx:Edmx xmlns:edmx="http://schemas.microsoft.com/ado/2007/06/edmx" Version="1.0">
    <edmx:DataServices xmlns:m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" m:DataServiceVersion="2.0">
        <Schema xmlns="http://schemas.microsoft.com/ado/2008/09/edm" Namespace="Z_SALIDA_MAT_SRV">
            
            <EntityType Name="Reserva">
                <Key>
                    <PropertyRef Name="Id"/>
                </Key>
                <Property Name="Id" Type="Edm.String" Nullable="false"/>
                <Property Name="BaseDate" Type="Edm.String"/>
                <Property Name="User" Type="Edm.String"/>
                <Property Name="Order" Type="Edm.String"/>
                <Property Name="Customer" Type="Edm.String"/>
                <Property Name="MovCode" Type="Edm.String"/>
                <Property Name="CostCenter" Type="Edm.String"/>
                <NavigationProperty Name="ToItems" Relationship="Z_SALIDA_MAT_SRV.ReservaToItem" FromRole="FromReserva" ToRole="ToItem"/>
            </EntityType>

             <EntityType Name="ReservaItem">
                <Key>
                    <PropertyRef Name="ReservaId"/>
                    <PropertyRef Name="Pos"/>
                </Key>
                <Property Name="ReservaId" Type="Edm.String" Nullable="false"/>
                <Property Name="Pos" Type="Edm.String" Nullable="false"/>
                <Property Name="Orden" Type="Edm.String"/>
                <Property Name="Status" Type="Edm.String"/>
                <Property Name="User" Type="Edm.String"/>
                <Property Name="Dest" Type="Edm.String"/>
                <Property Name="ReqDate" Type="Edm.String"/>
                <Property Name="Material" Type="Edm.String"/>
                <Property Name="Description" Type="Edm.String"/>
                <Property Name="Batch" Type="Edm.String"/>
                <Property Name="PendQuantity" Type="Edm.String"/>
                <Property Name="Center" Type="Edm.String"/>
                <Property Name="Area" Type="Edm.String"/>
                <Property Name="ReqQuantity" Type="Edm.String"/>
                <Property Name="PendQuantity" Type="Edm.String"/>
                <Property Name="Unit" Type="Edm.String"/>
            </EntityType>

             <Association Name="ReservaToItem">
                <End Type="Z_SALIDA_MAT_SRV.Reserva" Multiplicity="1" Role="FromReserva"/>
                <End Type="Z_SALIDA_MAT_SRV.ReservaItem" Multiplicity="*" Role="ToItem"/>
                <ReferentialConstraint>
                    <Principal Role="FromReserva">
                        <PropertyRef Name="Id"/>
                    </Principal>
                    <Dependent Role="ToItem">
                        <PropertyRef Name="ReservaId"/>
                    </Dependent>
                </ReferentialConstraint>
            </Association>
            
            <EntityContainer Name="Z_SALIDA_MAT_SRV_Entities" m:IsDefaultEntityContainer="true">
                <!-- Un EntitySet para las cabeceras -->
                <EntitySet Name="ReservasSet" EntityType="Z_SALIDA_MAT_SRV.Reserva"/>
                <!-- Otro EntitySet para los Ã­tems -->
                <EntitySet Name="ItemsSet" EntityType="Z_SALIDA_MAT_SRV.ReservaItem"/>
                <!-- El AssociationSet que conecta los dos EntitySets -->
                <AssociationSet Name="ReservaToItem_AssocSet" Association="Z_SALIDA_MAT_SRV.ReservaToItem">
                    <End EntitySet="ReservasSet" Role="FromReserva"/>
                    <End EntitySet="ItemsSet" Role="ToItem"/>
                </AssociationSet>
            </EntityContainer>

            <EntityType Name="Material">
                <Key>
                    <PropertyRef Name="id"/>
                </Key>
                <Property Name="id" Type="Edm.String" Nullable="false"/>
                <Property Name="reservaId" Type="Edm.String"/> 
                <Property Name="description" Type="Edm.String"/>
                <Property Name="position" Type="Edm.String"/>
                <Property Name="center" Type="Edm.String"/>
                <Property Name="storage" Type="Edm.String"/>
                <Property Name="state" Type="Edm.String"/>
                <Property Name="date" Type="Edm.String"/>
                <Property Name="location" Type="Edm.String"/>
                <Property Name="pending" Type="Edm.Int32"/>
                <Property Name="quantity" Type="Edm.Int32"/>
                <Property Name="unit" Type="Edm.String"/>
            </EntityType>

        </Schema>
    </edmx:DataServices>
</edmx:Edmx>